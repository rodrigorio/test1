<!--BeginJsContent-->
<script type="text/javascript" src="utilidades/js-scripts/LABjs-1.2.0/LAB.min.js"></script>
<script type="text/javascript">
    $LAB
   .script("{pathUrlBase}"+"utilidades/jquery/jquery-1.5.1.min.js").wait()
   .script("{pathUrlBase}"+"utilidades/jquery/ui/jquery.bgiframe-2.1.2.js")
   .script("{pathUrlBase}"+"utilidades/jquery/ui/jquery-ui-1.8.11.custom.js")
   .script("{pathUrlBase}"+"utilidades/jquery/maxlength/maxlength.js")
   .script("{pathUrlBase}"+"utilidades/jquery/form/jquery.form.js")
   .script("{pathUrlBase}"+"utilidades/jquery/validate/jquery.validate.min.js")

   .script("{pathUrlBase}"+"gui/js/backEnd/libs/modernizr-1.7.min.js")
   .script("{pathUrlBase}"+"gui/js/backEnd/libs/selectivizr.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.facebox.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.tipsy.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.wysiwyg.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.datatables.js")
   .script("{pathUrlBase}"+"gui/js/backEnd/script.js")
   .script("{pathUrlBase}"+"gui/vistas/admin/parametros.js");
</script>
<!--EndJsContent-->

<!--BeginHeaderBlock-->
<article class="full-block clearfix">
    <header>
        <h2>Administracion Avanzada</h2>
    </header>
    <section>
        <h3>Administrar valores param&eacute;tricos din&aacute;micos del <strong>Sistema</strong> y <strong>Controladores de P&aacute;gina</strong></h3>
    </section>
</article>
<!--EndHeaderBlock-->

<!--BeginHeaderUsuariosBlock-->
<article class="full-block clearfix">
    <header>
        <h2>Administracion Avanzada</h2>
    </header>
    <section>
        <h3>Administrar valores param&eacute;tricos din&aacute;micos asociados a los <strong>Usuarios</strong> del sistema</h3>
    </section>
</article>
<!--EndHeaderUsuariosBlock-->

<!--BeginListadoParametrosBlock-->
<div class="subHeader01 mabo3">
    <ul class="m_horiz ov_au mabo0 male0">
        <li>
            <a class="button-link blue crearParametro" href="javascript:;" rel="tooltip" original-title="Crear un nuevo parametro din&aacute;mico">Crear Par&aacute;metro</a>
        </li>
        <li>
            <a class="button-link blue asociarParametroSistema" href="javascript:;" rel="tooltip" original-title="Asociar par&aacute;metro en Sistema">Asociar Par&aacute;metro Sistema</a>
        </li>
        <li>
            <a class="button-link blue asociarParametroControlador" href="javascript:;" rel="tooltip" original-title="Asociar par&aacute;metro a un Controlador">Asociar Par&aacute;metro Controlador</a>
        </li>
    </ul>
</div>
<section id="listadoParametros">
    <div class="ajax_wait30 di_no"></div>
    <table class="datatable">
        <thead>
            <tr>
                <th>Key</th>
                <th>Descripcion</th>
                <th>Asociaci&oacute;n</th>
                <th>Grupo</th>
                <th>Tipo</th>
                <th>Valor</th>
            </tr>
        </thead>
        <tbody>
        <!--BeginParametroBlock-->
            <tr class="{iParametroId} {iGrupoId}">
                <td class="teal_le pale">
                    <strong>{sKey}</strong>
                    <div class="cl_bo pato"></div>
                    <span title="Editar Par&aacute;metro" rel="{iParametroId}" class="i bs edit ihover editarParametro"></span>
                    <!--BeginEliminarParametroBlock-->
                    <span title="Eliminar Par&aacute;metro" rel="{iParametroId}" class="i bs delete ihover eliminarParametro"></span>
                    <!--EndEliminarParametroBlock-->
                </td>
                <td class="pa2">{sDescripcion}</td>
                <td class="teal_le">{tipoAsociacion}</td>
                <td class="pa2"><strong>{sGrupo}</strong></td>
                <td>{sTipo}</td>
                <td class="pa2">
                    {sValor}
                    <!--BeginEditAsociacionBlock-->
                    <div class="cl_bo pato"></div>
                    <span title="Eliminar Asociaci&oacute;n Par&aacute;metro" rel="{tipoAsociacion}_{iParametroId}_{iGrupoId}" class="fl_ri i bs delete ihover eliminarAsociacionParametro"></span>
                    <span title="Modificar Valor Par&aacute;metro" rel="{tipoAsociacion}_{iParametroId}_{iGrupoId}" class="fl_ri mari i bs edit ihover modificarValorParametro"></span>
                    <!--EndEditAsociacionBlock-->
                </td>
            </tr>
        <!--EndParametroBlock-->
        <!--BeginNoRecordsParametrosBlock-->
            <tr>                
                <td></td>
                <td></td>
                <td>{sNoRecords}</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        <!--EndNoRecordsParametrosBlock-->
        </tbody>
    </table>
</section>
<!--EndListadoParametrosBlock-->

<!--BeginListadoParametrosUsuarioBlock-->
<div class="subHeader01 mabo3">
    <ul class="m_horiz ov_au mabo0 male0">
        <li>
            <a class="button-link blue asociarParametroUsuarios" href="javascript:;" rel="tooltip" original-title="Asociar par&aacute;metro a los usuarios del sistema">Asociar par&aacute;metro usuarios</a>
        </li>
        <li>
            <a class="button-link blue listarParametrosUsuarios" href="javascript:;" rel="tooltip" original-title="Eliminar asociaci&oacute;n entre un par&aacute;metro y los usuarios del sistema">Eliminar par&aacute;metro usuarios</a>
        </li>
    </ul>
</div>
<section id="listadoParametros">
    <div class="ajax_wait30 di_no"></div>
    <table class="datatable">
        <thead>
            <tr>
                <th>Key</th>
                <th>Descripcion</th>
                <th>Grupo</th>
                <th>Tipo</th>
                <th>Valor</th>
            </tr>
        </thead>
        <tbody>
        <!--BeginParametroBlock-->
            <tr class="{iParametroId}">
                <td class="teal_le pale">
                    <strong>{sKey}</strong>
                </td>
                <td class="pa2">{sDescripcion}</td>
                <td class="pa2"><strong>{sGrupo}</strong></td>
                <td>{sTipo}</td>
                <td class="pa2">
                    {sValor}
                    <!--BeginEditAsociacionBlock-->
                    <div class="cl_bo pato"></div>                    
                    <span title="Modificar Valor Par&aacute;metro" rel="{tipoAsociacion}_{iParametroId}_{iGrupoId}" class="fl_ri mari i bs edit ihover modificarValorParametro"></span>
                    <!--EndEditAsociacionBlock-->
                </td>
            </tr>
        <!--EndParametroBlock-->
        <!--BeginNoRecordsParametrosBlock-->
            <tr>
                <td></td>
                <td>{sNoRecords}</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        <!--EndNoRecordsParametrosBlock-->
        </tbody>
    </table>
</section>
<!--EndListadoParametrosUsuarioBlock-->

<!--BeginListadoParametrosAsociadosUsuarioBlock-->
<section id="listadoParametrosAsociadosUsuario">
    <div class="ajax_wait30 di_no"></div>
    <table class="datatable">
        <thead>
            <tr>
                <th>Key</th>
                <th>Descripci&oacute;n</th>
                <th>Tipo</th>
                <th>Valor por defecto</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        <!--BeginParametroBlock-->
            <tr class="usuarios_{iParametroId}">
                <td class="teal_le pale">
                    <strong>{sKey}</strong>
                </td>
                <td class="pa2">{sDescripcion}</td>
                <td>{sTipo}</td>
                <td class="pa2">
                    {sValor}                    
                </td>
                <td>
                    <span title="Eliminar asociaci&oacute;n del par&aacute;metro con los usuarios del sistema" rel="{iParametroId}" class="i bs delete ihover eliminarParametroUsuarios"></span>
                </td>
            </tr>
        <!--EndParametroBlock-->
        <!--BeginNoRecordsParametrosBlock-->
            <tr>
                <td></td>
                <td>{sNoRecords}</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        <!--EndNoRecordsParametrosBlock-->
        </tbody>
    </table>
</section>
<!--EndListadoParametrosAsociadosUsuarioBlock-->

<!--BeginFormularioParametroBlock-->
<article class="full-block clearfix">    
    <header>
        <h2>{sTituloForm} Par&aacute;metro Din&aacute;mico</h2>
    </header>

    <form id="formParametro" name="formParametro" action="" method="post">
        <div class="ajax_wait30 di_no"></div>
        
        <dt>
            <label for="namespace">Nombre (Key)</label>
        </dt>
        <dd>
            <input maxlength="60" name="namespace" id="namespace" type="text" class="medium" value="{sNamespace}">
        </dd>
        <dt>
            <label for="tipo">Tipo</label>
        </dt>
        <dd>
            <select name="tipo" id="tipo">
                <option value="">Tipo:</option>                
                <option {sSelectedTipoBoolean} value="boolean">Booleano</option>
                <option {sSelectedTipoNumeric} value="numeric">Num&eacute;rico</option>
                <option {sSelectedTipoString} value="string">Cadena Caracteres</option>
            </select>
        </dd>
        <dt>
            <label for="descripcion">Descripci&oacute;n</label>
        </dt>
        <dd>
            <input maxlength="255" name="descripcion" id="descripcion" type="text" class="large" value="{sDescripcion}">
        </dd>

        <div style="display:none"  id='msg_form_parametro' class="notification mabo2">
            <a class="close-notification" rel="tooltip" href="#" original-title="Ocultar Notificacion">x</a>
            <p class="msg"></p>
        </div>

        <!--BeginSubmitCrearParametroBlock-->
        <button id="crearParametro" name="crearParametro" type="submit">Crear Parametro</button>
        <!--EndSubmitCrearParametroBlock-->
        
        <!--BeginSubmitModificarParametroBlock-->
        <button id="modificarParametro" name="modificarParametro" type="submit">Modificar Parametro</button>
        <input type="hidden" value="{iParametroId}" name="iParametroIdForm" id="iParametroIdForm" />
        <!--EndSubmitModificarParametroBlock-->
    </form>
</article>
<!--EndFormularioParametroBlock-->

<!--BeginFormularioParametroSistemaBlock-->
<article class="full-block clearfix">
    <header>
        <h2>{sTituloForm} Asociaci&oacute;n Par&aacute;metro-Sistema</h2>
    </header>

    <form id="formParametroSistema" name="formParametroSistema" action="" method="post">
        <div class="ajax_wait30 di_no"></div>
        
        <!--BeginCrearAsociacionSistemaBlock-->
        <dt>
            <label for="parametro">Parametro</label>
        </dt>
        <dd>
            <select class="medium" name="iParametroIdForm" id="parametro">
                <option value="">Parametro:</option>
                <!--BeginOptionParametroBlock-->
                <option value="{iParametroId}">{sParametroNombre} - {sTipo}</option>
                <!--EndOptionParametroBlock-->
            </select>
        </dd>
        <!--EndCrearAsociacionSistemaBlock-->

        <!--BeginModificarAsociacionSistemaBlock-->
        <dt>
            <label>Parametro</label>
        </dt>
        <dd>
            <input readonly="readonly" id="parametro" type="text" class="medium readonly" value="{sParametro}">
            <p>Tipo: {sTipo}</p>
            <p>Descripcion: {sDescripcion}</p>
        </dd>
        <!--EndModificarAsociacionSistemaBlock-->

        <dt>
            <label for="valor">Valor</label>
        </dt>
        <dd>
            <input maxlength="255" name="valor" id="valor" type="text" class="large" value="{sValor}">
        </dd>

        <div style="display:none"  id='msg_form_parametroSistema' class="notification mabo2">
            <a class="close-notification" rel="tooltip" href="#" original-title="Ocultar Notificacion">x</a>
            <p class="msg"></p>
        </div>

        <!--BeginSubmitCrearAsociacionSistemaBlock-->
        <button id="crearAsociacionSistema" name="crearAsociacionSistema" type="submit">Asociar Parametro Sistema</button>
        <!--EndSubmitCrearAsociacionSistemaBlock-->

        <!--BeginSubmitModificarAsociacionSistemaBlock-->
        <button id="modificarAsociacionSistema" name="modificarAsociacionSistema" type="submit">Modificar Valor Parametro</button>
        <input type="hidden" value="{iParametroId}" name="iParametroIdForm" id="iParametroIdForm" />
        <!--EndSubmitModificarAsociacionSistemaBlock-->
        
    </form>
</article>
<!--EndFormularioParametroSistemaBlock-->

<!--BeginFormularioParametroControladorBlock-->
<article class="full-block clearfix">
    <header>
        <h2>{sTituloForm} Asociaci&oacute;n Par&aacute;metro-Controlador</h2>
    </header>

    <form id="formParametroControlador" name="formParametroControlador" action="" method="post">
        <div class="ajax_wait30 di_no"></div>

        <!--BeginCrearAsociacionControladorBlock-->
        <dt>
            <label for="parametro">Parametro</label>
        </dt>
        <dd>
            <select name="iParametroIdForm" id="parametro">
                <option value="">Parametro:</option>
                <!--BeginOptionParametroBlock-->
                <option value="{iParametroId}">{sParametroNombre} - {sTipo}</option>
                <!--EndOptionParametroBlock-->
            </select>
        </dd>
        <dt>
            <label for="controlador">Controlador</label>
        </dt>
        <dd>
            <select name="iControladorIdForm" id="controlador">
                <option value="">Controlador:</option>
                <!--BeginOptionControladorBlock-->
                <option value="{iControladorId}">{sControlador}</option>
                <!--EndOptionControladorBlock-->
            </select>
        </dd>
        <!--EndCrearAsociacionControladorBlock-->

        <!--BeginModificarAsociacionControladorBlock-->
        <dt>
            <label>Parametro</label>
        </dt>
        <dd>
            <input readonly="readonly" id="parametro" type="text" class="medium readonly" value="{sParametro}">
            <p>Tipo: {sTipo}</p>
            <p>Descripcion: {sDescripcion}</p>
        </dd>
        <dt>
            <label>Controlador</label>
        </dt>
        <dd>
            <input readonly="readonly" id="controlador" type="text" class="medium readonly" value="{sControlador}">
        </dd>
        <!--EndModificarAsociacionControladorBlock-->

        <dt>
            <label for="valor">Valor</label>
        </dt>
        <dd>
            <input maxlength="255" name="valor" id="valor" type="text" class="large" value="{sValor}">
        </dd>

        <div style="display:none"  id='msg_form_parametroControlador' class="notification mabo2">
            <a class="close-notification" rel="tooltip" href="#" original-title="Ocultar Notificacion">x</a>
            <p class="msg"></p>
        </div>

        <!--BeginSubmitCrearAsociacionControladorBlock-->
        <button id="crearAsociacionControlador" name="crearAsociacionControlador" type="submit">Asociar Parametro Controlador</button>
        <!--EndSubmitCrearAsociacionControladorBlock-->

        <!--BeginSubmitModificarAsociacionControladorBlock-->
        <button id="modificarAsociacionControlador" name="modificarAsociacionControlador" type="submit">Modificar Valor Parametro</button>
        <input type="hidden" value="{iParametroId}" name="iParametroIdForm" id="iParametroIdForm" />
        <input type="hidden" value="{iControladorId}" name="iControladorIdForm" id="iControladorIdForm" />
        <!--EndSubmitModificarAsociacionControladorBlock-->
    </form>
</article>
<!--EndFormularioParametroControladorBlock-->

<!--BeginFormularioAsociarParametroUsuariosBlock-->
<article class="full-block clearfix">
    <header>
        <h2>Asociaciar Par&aacute;metro a todos los usuarios del sistema</h2>
    </header>

    <form id="formParametroUsuarios" name="formParametroUsuarios" action="" method="post">
        <div class="ajax_wait30 di_no"></div>

        <dt>
            <label for="parametro">Parametro</label>
        </dt>
        <dd>
            <select name="iParametroIdForm" id="parametro">
                <option value="">Parametro:</option>
                <!--BeginOptionParametroBlock-->
                <option value="{iParametroId}">{sParametroNombre} - {sTipo}</option>
                <!--EndOptionParametroBlock-->
            </select>
        </dd>
        <dt>
            <label for="valor">Valor por defecto</label>
        </dt>
        <dd>
            <input maxlength="255" name="valor" id="valor" type="text" class="large" value="{sValor}">
            <p>El parametro se asociar&aacute;a a todos los usuarios existentes con este valor.<br>
                Tambi&eacute;n ser&aacute; el valor que se asignara cuando un nuevo usuario es registrado en el sistema.</p>
        </dd>

        <div style="display:none"  id='msg_form_parametroUsuarios' class="notification mabo2">
            <a class="close-notification" rel="tooltip" href="#" original-title="Ocultar Notificacion">x</a>
            <p class="msg"></p>
        </div>

        <button id="crearAsociacionParametroUsuarios" name="crearAsociacionParametroUsuarios" type="submit">Asociar Parametro Usuarios</button>
    </form>
</article>
<!--EndFormularioAsociarParametroUsuariosBlock-->

<!--BeginFormularioModificarParametroUsuarioBlock-->
<article class="full-block clearfix">
    <header>
        <h2>Modificar valor Par&aacute;metro Usuario</h2>
    </header>

    <form id="formModificarParametroUsuario" name="formModificarParametroUsuario" action="" method="post">
        <div class="ajax_wait30 di_no"></div>

        <dt>
            <label>Parametro</label>
        </dt>
        <dd>
            <input readonly="readonly" id="parametro" type="text" class="medium readonly" value="{sParametro}">
            <p>Tipo: {sTipo}</p>
            <p>Descripcion: {sDescripcion}</p>
        </dd>
        <dt>
            <label>Usuario</label>
        </dt>
        <dd>
            <input readonly="readonly" id="usuario" type="text" class="medium readonly" value="{sNombreUsuario}">
        </dd>
        <dt>
            <label for="valor">Valor</label>
        </dt>
        <dd>
            <input maxlength="255" name="valor" id="valor" type="text" class="large" value="{sValor}">
        </dd>

        <div style="display:none"  id='msg_form_modificarParametroUsuario' class="notification mabo2">
            <a class="close-notification" rel="tooltip" href="#" original-title="Ocultar Notificacion">x</a>
            <p class="msg"></p>
        </div>

        <button id="modificarParametroUsuario" name="modificarParametroUsuario" type="submit">Modificar Valor</button>
        <input type="hidden" value="{iParametroId}" name="iParametroIdForm" id="iParametroIdForm" />
        <input type="hidden" value="{iUsuarioId}" name="iUsuarioIdForm" id="iUsuarioIdForm" />
    </form>
</article>
<!--EndFormularioModificarParametroUsuarioBlock-->