<!--BeginJsContent-->
<script type="text/javascript" src="utilidades/js-scripts/LABjs-1.2.0/LAB.min.js"></script>
<script type="text/javascript">
    $LAB
   .script("{pathUrlBase}"+"utilidades/jquery/jquery-1.8.3.min.js").wait()
   .script("{pathUrlBase}"+"utilidades/jquery/ui/jquery.bgiframe-2.1.2.js")
   .script("{pathUrlBase}"+"utilidades/jquery/ui/jquery-ui-1.10.3.custom.js")
   .script("{pathUrlBase}"+"utilidades/jquery/maxlength/maxlength.js")
   .script("{pathUrlBase}"+"utilidades/jquery/form/jquery.form.js")
   .script("{pathUrlBase}"+"utilidades/jquery/validate/jquery.validate.min.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.query.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.prettyPhoto.js")

   .script("{pathUrlBase}"+"gui/js/backEnd/libs/modernizr-1.7.min.js")
   .script("{pathUrlBase}"+"gui/js/backEnd/libs/selectivizr.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.facebox.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.tipsy.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.wysiwyg.js")
   .script("{pathUrlBase}"+"utilidades/jquery/jquery.datatables.js")
   .script("{pathUrlBase}"+"gui/js/backEnd/script.js")
   .script("{pathUrlBase}"+"gui/vistas/admin/variables.js");
</script>
<!--EndJsContent-->

<!--BeginHeaderBlock-->
<article class="full-block clearfix">
<header>
    <h2>Administrar variables precargadas en {sNombreUnidad}</h2>
</header>
<section class="mabo3">
    <h3>Listado de variables que estar&aacute;n disponibles para todos los seguimientos SCC que tengan asociada la unidad {sNombreUnidad}</h3>
</section>

<p>
    <strong>DESCRIPCI&Oacute;N UNIDAD:</strong> {sUnidadDescripcion}
</p>
<!--EndHeaderBlock-->


<!--BeginIconoTipoTextoBlock-->
<span class="i mc inputText"></span>
<!--EndIconoTipoTextoBlock-->

<!--BeginIconoTipoNumericaBlock-->
<span class="i mc profits"></span>
<!--EndIconoTipoNumericaBlock-->

<!--BeginIconoTipoCualitativaBlock-->
<span class="i mc inputRadio"></span>
<!--EndIconoTipoCualitativaBlock-->

<!--BeginListadoVariablesBlock-->

<!--BeginPanelAdminBlock-->
<div id="subHeader" class="subHeader01 mabo3">
    <a class="button-link blue" id="crearVariableTexto" href="javascript:;" rel="tooltip" original-title="Agregar una nueva variable de tipo Texto">
        <span class="i mc inputText mari2"></span>Nueva variable de texto
    </a>
    <a class="button-link blue" id="crearVariableNumerica" href="javascript:;" rel="tooltip" original-title="Agregar una nueva variable de tipo Num&eacute;rica">
        <span class="i mc profits mari2"></span>Nueva variable num&eacute;rica
    </a>
    <a class="button-link blue" id="crearVariableCualitativa" href="javascript:;" rel="tooltip" original-title="Agregar una nueva variable de tipo Cualitativa">
        <span class="i mc inputRadio mari2"></span>Nueva variable cualitativa
    </a>
    <span class="di_no" name="unidadId" id="unidadId">{iUnidadId}</span>
</div>
<!--EndPanelAdminBlock-->

<section id="listadoVariables">
    <div class="ajax_wait30 di_no"></div>        
    <div id="listadoVariablesResult">
        <!--BeginGrillaVariablesBlock-->
        <table class="datatable">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Tipo</th>
                    <th>Descripci&oacute;n</th>                   
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <!--BeginVariableBlock-->
                <tr class="{iVariableId}">
                    <td>{sNombre}</td>
                    <td class="iveal">
                        {iconoVariable}
                        {sTipo}
                    </td>
                    <td>{sDescripcion}</td>
                    <td class="teal_ce">
                        <span title="Editar" rel="{sTipoEnum}_{iVariableId}" class="i bs edit ihover editarVariable"></span>
                        <span title="Eliminar" rel="{iVariableId}" class="i bs delete ihover borrarVariable"></span>
                    </td>
                </tr>
                <!--EndVariableBlock-->

                <!--BeginNoRecordsVariablesBlock-->
                <tr>                    
                    <td>&nbsp;</td>
                    <td>No hay variables.</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <!--EndNoRecordsVariablesBlock-->
            </tbody>
        </table>
        <!--EndGrillaVariablesBlock-->
    </div>
</div>
<!--EndListadoVariablesBlock-->

<!--BeginFormularioVariableTextoBlock-->
<h1 class="teta_up mabo2">{sTituloForm}</h1>
<form id="formVariableTexto" name="formVariableTexto" action="" method="post">
    <div id='ajax_loading' class="ajax_wait30 di_no"></div>
    <dt>
        <label for="nombre">Nombre</label>
    </dt>
    <dd>
        <input name="nombre" id="nombre" title="Nombre de la variable" type="text" class="large" maxlength="100" value="{sNombre}">
        <p>El nombre de la variable aparecer&aacute; en las entradas por fecha<br>de los seguimientos a los cuales la unidad este asociada.</p>
    </dd>
    <dt>
        <label for="descripcion">Descripci&oacute;n</label>
    </dt>
    <dd>
        <textarea class="mihe2 large" rows="0" cols="0" id="descripcion" name="descripcion" title="Descripci&oacute;n para el contenido que la variable guarda.">{sDescripcion}</textarea>
        <p>Descripci&oacute;n explicativa acerca de que significa cada valor posible en la variable</p>
    </dd>

    <div style="display:none"  id='msg_form_variable' class="notification">
        <a class="close-notification" rel="tooltip" href="#" original-title="Ocultar Notificacion">x</a>
        <p class="msg"></p>
    </div>

    <!--BeginSubmitCrearVariableTextoBlock-->
    <button class="mabo" id="crearVariableTexto" name="crearVariableTexto" type="submit">Crear Variable</button>
    <!--EndSubmitCrearVariableTextoBlock-->

    <!--BeginSubmitModificarVariableTextoBlock-->
    <button class="mabo" id="modificarVariableTexto" name="modificarVariableTexto" type="submit">Modificar Variable</button>
    <input type="hidden" value="{iVariableIdForm}" name="variableIdForm" id="variableIdForm" />
    <!--EndSubmitModificarVariableTextoBlock-->

    <input type="hidden" value="{iUnidadIdForm}" name="unidadIdForm" id="unidadIdForm" />
</form>
<!--EndFormularioVariableTextoBlock-->

<!--BeginFormularioVariableNumericaBlock-->
<h1 class="teta_up mabo2">{sTituloForm}</h1>
<form id="formVariableNumerica" name="formVariableNumerica" action="" method="post">
    <div id='ajax_loading' class="ajax_wait30 di_no"></div>

    <dt>
        <label for="nombre">Nombre</label>
    </dt>
    <dd>
        <input name="nombre" id="nombre" title="Nombre de la variable" type="text" class="large" maxlength="100" value="{sNombre}">
        <p>El nombre de la variable aparecer&aacute; en las entradas por fecha<br>de los seguimientos a los cuales la unidad este asociada.</p>
    </dd>
    <dt>
        <label for="descripcion">Descripci&oacute;n</label>
    </dt>
    <dd>
        <textarea class="mihe2 large" rows="0" cols="0" id="descripcion" name="descripcion" title="Descripci&oacute;n para el contenido que la variable guarda.">{sDescripcion}</textarea>
        <p>Descripci&oacute;n explicativa acerca de que significa cada valor posible en la variable</p>
    </dd>

    <div style="display:none;" id='msg_form_variable' class="msg_form iveal cl_bo mabo2"><span class="bs i"></span> <span class="msg"></span></div>

    <!--BeginSubmitCrearVariableNumericaBlock-->
    <button class="mabo" id="crearVariableNumerica" name="crearVariableNumerica" type="submit">Crear Variable</button>
    <!--EndSubmitCrearVariableNumericaBlock-->

    <!--BeginSubmitModificarVariableNumericaBlock-->
    <button class="mabo" id="modificarVariableNumerica" name="modificarVariableNumerica" type="submit">Modificar Variable</button>
    <input type="hidden" value="{iVariableIdForm}" name="variableIdForm" id="variableIdForm" />
    <!--EndSubmitModificarVariableNumericaBlock-->

    <input type="hidden" value="{iUnidadIdForm}" name="unidadIdForm" id="unidadIdForm" />
</form>
<!--EndFormularioVariableNumericaBlock-->

<!--BeginFormularioVariableCualitativaBlock-->
<h1 class="teta_up mabo2">{sTituloForm}</h1>
<form id="formVariableCualitativa" name="formVariableCualitativa" action="" method="post">
    <div id='ajax_loading' class="ajax_wait30 di_no"></div>

    <dt>
        <label for="nombre">Nombre</label>
    </dt>
    <dd>
        <input name="nombre" id="nombre" title="Nombre de la variable" type="text" class="large" maxlength="100" value="{sNombre}">
        <p>El nombre de la variable aparecer&aacute; en las entradas por fecha<br>de los seguimientos a los cuales la unidad este asociada.</p>
    </dd>
    <dt>
        <label for="descripcion">Descripci&oacute;n</label>
    </dt>
    <dd>
        <textarea class="mihe2 large" rows="0" cols="0" id="descripcion" name="descripcion" title="Descripci&oacute;n para el contenido que la variable guarda.">{sDescripcion}</textarea>
        <p>Descripci&oacute;n explicativa acerca de que significa cada valor posible en la variable</p>
    </dd>

    <dt id="listadoModalidades">
        <label for="">Modalidades</label>
    </dt>
    <dd>
        <div id="grillaModalidadesWrapper">
            <!--BeginGrillaModalidadesBlock-->
            <table id="grillaModalidades" class="wi100p">
                <thead>
                    <tr>
                        <td class="small iveal">Modalidad</td>
                        <td class="small iveal">Orden</td>
                        <td class="small"></td>
                    </tr>
                </thead>
                <tbody>
                    <!--BeginModalidadBlock-->
                    <tr class="{modalidadHtmlId} modalidad">
                        <td>
                            <input class="medium" type="text" name="modalidad[{modalidadHtmlId}][modalidad]" title="Nombre Modalidad" maxlength="50" value="{sModalidad}" />
                            <input type="hidden" name="modalidad[{modalidadHtmlId}][modalidadId]" value="{iModalidadId}" />
                        </td>
                        <td>
                            <input size="2" type="text" name="modalidad[{modalidadHtmlId}][orden]" title="N&uacute;mero de ordenamiento" maxlength="2" value="{iOrden}" />
                        </td>
                        <td class="teal_ce">
                            <span title="Eliminar" rel="{modalidadHtmlId}_{iModalidadId}" class="i bs delete ihover borrarModalidad"></span>
                        </td>
                    </tr>
                    <!--EndModalidadBlock-->

                    <!--BeginNoRecordsModalidadesBlock-->
                    <tr id="noRecordsModalidades">
                        <td colspan="3">Sin modalidades</td>
                    </tr>
                    <!--EndNoRecordsModalidadesBlock-->
                </tbody>
            </table>
            <!--EndGrillaModalidadesBlock-->
        </div>
        <p>Listado con las distintas modalidades que la variable puede asumir. Por ejemplo: Malo, Regular, Bueno. Utilize el n&uacute;mero de orden para ordenar la lista.</p>
    </dd>
    <button class="mabo3" id="agregarModalidad" type="submit">
        <span class="i bs add"></span>
        <span class="buttonText">Agregar Modalidad</span>
    </button>

    <div style="display:none;" id='msg_form_variable' class="msg_form iveal cl_bo mabo2"><span class="bs i"></span> <span class="msg"></span></div>

    <!--BeginSubmitCrearVariableCualitativaBlock-->
    <button class="mabo" id="crearVariableCualitativa" name="crearVariableCualitativa" type="submit">Crear Variable</button>
    <!--EndSubmitCrearVariableCualitativaBlock-->

    <!--BeginSubmitModificarVariableCualitativaBlock-->
    <button class="mabo" id="modificarVariableCualitativa" name="modificarVariableCualitativa" type="submit">Modificar Variable</button>
    <input type="hidden" value="{iVariableIdForm}" name="variableIdForm" id="variableIdForm" />
    <!--EndSubmitModificarVariableCualitativaBlock-->

    <input type="hidden" value="{iUnidadIdForm}" name="unidadIdForm" id="unidadIdForm" />
</form>
<!--EndFormularioVariableCualitativaBlock-->